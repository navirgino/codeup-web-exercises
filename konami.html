<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <style>
        img {
            width: 100%;
            position: center;
        }
    </style>
</head>
<body>
<h1>Welcome to the world of Pokemon</h1>

<!--<div id="oak"><img src="img/profoak.jpg"></div>-->
<!--<div id=img><img src="img/stillmissingno.jpg"></div>-->


<div id=img-area><img src="img/sorry-prof.png"></div>
<div id="empty"></div>
<div id=audio-area></div>


<script src="js/jquery-2.2.4.js"></script>
<script>
    "use strict";
    var profOak = ['Enter'];
    var profPos = 0;
    var konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown',
        'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight',
        'b', 'a'];
    var kCodePos = 0;

    // $(document).on('keydown', function (e) {
    //     var prof = e.originalEvent.code;
    //     var requiredKeyProf = profOak[profPos];
    //     if (prof === requiredKeyProf) {
    //         profPos++;
    //         if (profPos === profOak.length) {
    //             var audio = new Audio('audio/welcome-trainer.mp3');
    //             audio.play();
    //             $("#img-area").html('<img src="img/sorry-prof.png" alt="">');
    //         }
    //     } else {
    //         profPos = 0;
    //     }
    //
    // });
    // $(document).on('keydown', function (e) {
    //     var profAgain = e.originalEvent.code;
    //     var requiredKeyProfAgain = profOakAgain[profOakAgainPos];
    //     if (profAgain === requiredKeyProfAgain) {
    //         profOakAgainPos++;
    //         if (profPos === profOak.length) {
    //             $("#img-area").html('<img src="img/oakblueintro.png" alt="">');
    //         }
    //
    //     } else {
    //         profOakAgainPos = 0;
    //     }
    // });


    $(document).keydown(function (p) {
        var keyStroke = p.key;


        if (keyStroke === profOak[profPos]) {
            profPos++;
            console.log(keyStroke);
            $("#empty").html("");
            $("#img-area").html('<img src="img/oakblueintro.png" alt="">');
            var audio = new Audio('audio/welcome-trainer.mp3');
            audio.play();

        }else if (keyStroke !== profOak[profPos] || keyStroke || profOakAgain[profOakAgainPos]) {
            profPos = 0;

            $("#empty").html("");
            $(" h1 ").html("Hurry type in the Konami code to catch the pokemon!!!");
            $("#img-area").html('<img src="img/techisevil.gif" alt="">');
            setTimeout(function () {
                var evilAudio = new Audio('audio/wildpokemon.mp3');
                evilAudio.play();
                setTimeout(function () {
                    evilAudio.pause();
                    evilAudio.currentTime = 0;
                }, 8000)
            }, 500);

        }
        // if (keyStroke === konamiCode[kCodePos]) {
        //     console.log(keyStroke);
        //     evilAudio.pause();
        //     $('#empty').html("");
        //     $('#img-area').html('<img src="img/retrowiggle.gif" alt="">');
        //
        //     setTimeout(function () {
        //         console.log("in set timeout");
        //         var pokewiggle = new Audio('audio/pokeballwiggle.mp3');
        //         pokewiggle.play();
        //         setTimeout(function () {
        //             pokewiggle.pause();
        //             pokewiggle.currentTime = 0;
        //
        //         }, 500)
        //     }, 500);
        //     kCodePos++;
        //
        // }



    });

    // var konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown',
    //     'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight',
    //     'b', 'a'];
    // var kCodePos = 0;
    //
    // $(document).keydown(function (e) {
    //     var keyStroke = e.key;
    //     if (keyStroke === konamiCode[kCodePos]) {
    //         $('#img').html("");
    //         $('#key-area').html('<img src="img/retrowiggle.gif" alt="">');
    //         console.log(keyStroke);
    //         /*Timeout nested function*/
    //
    //         setTimeout(function () {
    //             console.log("in set timeout");
    //             var pokewiggle = new Audio('audio/pokeballwiggle.mp3');
    //             pokewiggle.play();
    //             setTimeout(function () {
    //                 pokewiggle.pause();
    //                 pokewiggle.currentTime = 0;
    //
    //             }, 500)
    //         }, 500);
    //         kCodePos++;
    //
    //     }else if (kCodePos === konamiCode.length) {
    //         var pokeaudio = new Audio('audio/success.mp3');
    //         pokeaudio.play();
    //         $('#key-area').html('<img src="img/succespokeball.jpeg" alt="">');
    //
    //
    //     }else if (keyStroke !== konamiCode[kCodePos]) {
    //         kCodePos = 0;
    //         // $('#keyarea').html("");
    //         $('#img').html("");
    //         $('#key-area').html('<img src="img/failed-capture.gif" alt="">');
    //         var pokeoops = new Audio('audio/pokeballOUT.mp3');
    //         pokeoops.play();
    //         console.log('sry')
    //
    //
    //     } else {
    //
    //         $('#key-area').html("");
    //
    //     }
    //
    // });

    // });


</script>

</body>
</html>